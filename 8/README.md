Для вирішення проблеми "заздрісних функцій" був створений окремий клас Address, який інкапсулює логіку, пов'язану з адресою. Цей клас містить методи для перевірки, чи адреса знаходиться в Нью-Йорку або Каліфорнії. Клас Customer тепер використовує екземпляр класу Address для зберігання адреси замість простого рядка. Клас Order більше не має доступу до внутрішньої реалізації адреси, а лише використовує методи класу Address для перевірки місцезнаходження під час розрахунку вартості доставки.

Такий підхід дозволяє уникнути проблеми "заздрісних функцій", оскільки логіка обробки адреси тепер інкапсульована в окремому класі Address. Це підвищує модульність та змінюваність коду, а також полегшує подальший розвиток та супровід.